{"ast":null,"code":"import React,{useState}from\"react\";import\"./form.css\";import{useDispatch,useSelector}from\"react-redux\";import{submitRecord}from\"../../store/interactions\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Form=()=>{const provider=useSelector(state=>state.provider.connection);const medical=useSelector(state=>state.medical.contract);const account=useSelector(state=>state.provider.account);const[formData,setFormData]=useState({name:\"\",age:\"\",gender:\"\",bloodType:\"\",allergies:\"\",diagnosis:\"\",treatment:\"\"});const[isSubmitting,setIsSubmitting]=useState(false);const dispatch=useDispatch();const handleChange=e=>{const{name,value}=e.target;setFormData(prevData=>({...prevData,[name]:value}));};const submitHandler=async e=>{e.preventDefault();setIsSubmitting(true);try{await submitRecord(formData.name,formData.age,formData.gender,formData.bloodType,formData.allergies,formData.diagnosis,formData.treatment,provider,medical,dispatch);setFormData({name:\"\",age:\"\",gender:\"\",bloodType:\"\",allergies:\"\",diagnosis:\"\",treatment:\"\"});}catch(error){console.error(\"Error submitting record:\",error);}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:account?/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:\"patient-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Patient Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Patient Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",required:true,onChange:handleChange,value:formData.name,placeholder:\"John Doe\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"age\",children:\"Age:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"age\",name:\"age\",required:true,onChange:handleChange,value:formData.age,placeholder:\"30\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"gender\",children:\"Gender:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",id:\"gender\",required:true,onChange:handleChange,value:formData.gender,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select Gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bloodType\",children:\"Blood Type:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"bloodType\",name:\"bloodType\",required:true,onChange:handleChange,value:formData.bloodType,placeholder:\"A positive\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"allergies\",children:\"Allergies:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"allergies\",name:\"allergies\",required:true,onChange:handleChange,value:formData.allergies,placeholder:\"Penicillin, Peanuts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"diagnosis\",children:\"Diagnosis:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"diagnosis\",name:\"diagnosis\",required:true,onChange:handleChange,value:formData.diagnosis,placeholder:\"Hypertension\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"treatment\",children:\"Treatment:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"treatment\",name:\"treatment\",required:true,onChange:handleChange,value:formData.treatment,placeholder:\"Prescribed medication\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,className:\"submit-btn\",children:isSubmitting?\"Submitting...\":\"Submit\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"connect-message\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Please connect your wallet to access the system\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Ensure you have MetaMask or a compatible wallet installed and connected to the correct network.\"})]})})});};export default Form;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","submitRecord","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Form","provider","state","connection","medical","contract","account","formData","setFormData","name","age","gender","bloodType","allergies","diagnosis","treatment","isSubmitting","setIsSubmitting","dispatch","handleChange","e","value","target","prevData","submitHandler","preventDefault","error","console","className","children","onSubmit","htmlFor","type","id","required","onChange","placeholder","disabled"],"sources":["D:/HackIndia/my-react-app/app/src/components/Form/form.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./form.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { submitRecord } from \"../../store/interactions\";\r\n\r\nconst Form = () => {\r\n    const provider = useSelector((state) => state.provider.connection);\r\n    const medical = useSelector((state) => state.medical.contract);\r\n    const account = useSelector((state) => state.provider.account);\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        age: \"\",\r\n        gender: \"\",\r\n        bloodType: \"\",\r\n        allergies: \"\",\r\n        diagnosis: \"\",\r\n        treatment: \"\"\r\n    });\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prevData => ({\r\n            ...prevData,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        setIsSubmitting(true);\r\n        try {\r\n            await submitRecord(\r\n                formData.name,\r\n                formData.age,\r\n                formData.gender,\r\n                formData.bloodType,\r\n                formData.allergies,\r\n                formData.diagnosis,\r\n                formData.treatment,\r\n                provider,\r\n                medical,\r\n                dispatch\r\n            );\r\n            setFormData({\r\n                name: \"\",\r\n                age: \"\",\r\n                gender: \"\",\r\n                bloodType: \"\",\r\n                allergies: \"\",\r\n                diagnosis: \"\",\r\n                treatment: \"\"\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error submitting record:\", error);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            {account ? (\r\n\r\n                <form onSubmit={submitHandler} className=\"patient-form\">\r\n                    <h1>Patient Details</h1>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"name\">Patient Name:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            name=\"name\"\r\n                            required\r\n                            onChange={handleChange}\r\n                            value={formData.name}\r\n                            placeholder=\"John Doe\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"age\">Age:</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            id=\"age\"\r\n                            name=\"age\"\r\n                            required\r\n                            onChange={handleChange}\r\n                            value={formData.age}\r\n                            placeholder=\"30\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"gender\">Gender:</label>\r\n                        <select\r\n                            name=\"gender\"\r\n                            id=\"gender\"\r\n                            required\r\n                            onChange={handleChange}\r\n                            value={formData.gender}\r\n                        >\r\n                            <option value=\"\" disabled>Select Gender</option>\r\n                            <option value=\"Male\">Male</option>\r\n                            <option value=\"Female\">Female</option>\r\n                            <option value=\"Other\">Other</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"bloodType\">Blood Type:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"bloodType\"\r\n                            name=\"bloodType\"\r\n                            required\r\n                            onChange={handleChange}\r\n                            value={formData.bloodType}\r\n                            placeholder=\"A positive\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"allergies\">Allergies:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"allergies\"\r\n                            name=\"allergies\"\r\n                            required\r\n                            onChange={handleChange}\r\n                            value={formData.allergies}\r\n                            placeholder=\"Penicillin, Peanuts\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"diagnosis\">Diagnosis:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"diagnosis\"\r\n                            name=\"diagnosis\"\r\n                            required\r\n                            onChange={handleChange}\r\n                            value={formData.diagnosis}\r\n                            placeholder=\"Hypertension\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"treatment\">Treatment:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"treatment\"\r\n                            name=\"treatment\"\r\n                            required\r\n                            onChange={handleChange}\r\n                            value={formData.treatment}\r\n                            placeholder=\"Prescribed medication\"\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\" disabled={isSubmitting} className=\"submit-btn\">\r\n                        {isSubmitting ? \"Submitting...\" : \"Submit\"}\r\n                    </button>\r\n                </form>\r\n    ) : (\r\n        <>\r\n            <div className=\"connect-message\">\r\n                <h1>Please connect your wallet to access the system</h1>\r\n                <p>Ensure you have MetaMask or a compatible wallet installed and connected to the correct network.</p>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default Form;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}